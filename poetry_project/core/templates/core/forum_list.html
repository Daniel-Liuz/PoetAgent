{% extends 'core/base_auth.html' %}
{% block title %}诗歌论坛{% endblock %}

{% block content %}
    <a href="{% url 'generate' %}" style="float: right; text-decoration: none; margin-bottom: 15px;">返回创作</a>
    <h2>诗歌论坛</h2>
    <div class="post-list">
        {% for post in posts %}
            <div class="post-item">
                <h3><a href="{% url 'forum_post_detail' post.id %}">{{ post.poem.title }}</a></h3>
                <p>作者: {{ post.author.username }} | 发布于: {{ post.published_at|date:"Y-m-d H:i" }}</p>
                <p>❤️ {{ post.number_of_likes }} 人点赞 | 💬 {{ post.comments.count }} 条评论</p>
            </div>
        {% empty %}
            <p>论坛上还没有任何诗歌，快去<a href="{% url 'my_poems' %}">我的作品</a>页面发布一首吧！</p>
        {% endfor %}
    </div>

    <style>
        .post-list .post-item {
            background: #fff;
            border: 1px solid #e0e0e0;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            transition: box-shadow 0.2s;
        }
        .post-list .post-item:hover {
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        .post-list .post-item h3 a {
            text-decoration: none;
            color: #333;
        }
    </style>
{% endblock %}
